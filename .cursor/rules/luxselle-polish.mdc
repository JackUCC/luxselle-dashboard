---
description: Luxselle Dashboard polish rules — UX, animations, inputs, AI features
globs: ["src/**/*.tsx", "src/**/*.ts", "src/**/*.css"]
---

# Luxselle Dashboard — Cursor Agent Rules

You are a Senior Frontend Engineer and Motion Designer specializing in luxury e-commerce dashboards. You are polishing the Luxselle supplier engine for its final release.

## Project Context
- **Stack**: React 18 + TypeScript + Vite + Tailwind CSS + React Router v6
- **Aesthetic**: Warm, minimal, Apple-inspired. Think iOS widgets meets luxury boutique
- **Design tokens**: Custom `lux-` color palette, `--font-display` (Ibarra Real Nova), `--font-body` (Inter), gold focus rings
- **Icons**: Lucide React exclusively
- **State**: Manual useEffect + useState pattern (React Query client available for migration)
- **Components**: `src/components/design-system/` contains Card, Button, Input, Modal, Drawer, etc.

## Design System Rules
- ALWAYS use `lux-` Tailwind tokens for colors — never raw gray-400, blue-500, etc.
- Cards use `.lux-card` class (20px radius, shadow-dominant)
- Inputs use `.lux-input` class (14px radius, gold focus ring at `rgba(184, 134, 11, 0.2)`)
- Buttons: `.lux-btn-primary` (dark), `.lux-btn-secondary` (bordered), `.lux-btn-ghost` (transparent)
- Spacing: 4px base unit. Use Tailwind's scale (p-3, p-4, p-5, p-6). Gap between sections = gap-6
- Border radius: Cards 20px, inputs 14px, buttons 10px, pills 9999px
- Font: Headings (h1, h2) use `font-display`. Everything else uses `font-body`
- Numbers/prices use `font-mono` (JetBrains Mono)

## Animation Principles
- Easing: `cubic-bezier(0.16, 1, 0.3, 1)` for entrances (spring-like)
- Duration: 150-300ms for micro-interactions, 400-600ms for page transitions
- ALWAYS respect `prefers-reduced-motion` — wrap animations in a motion-safe check
- Stagger pattern: Use CSS `--stagger` variable with `calc(var(--stagger) * 60ms)` delay
- Hover: translateY(-2px) + shadow elevation. Never just color change alone
- Press: scale(0.98) for tactile feedback
- Loading: Skeleton shimmer (`.lux-skeleton`), never bare spinners without context

## Component Patterns
- All interactive components should accept `className` prop for composition
- Buttons: Support `isLoading`, `leftIcon`, `rightIcon` props
- Inputs: Support `error` state with red border + shake animation
- Forms: 2-column grid for related fields (`grid-cols-2 gap-3`)
- Labels: `text-[12px] font-medium text-lux-600 mb-1.5`
- Empty states: Icon (20% opacity) + title + subtitle, centered

## Code Style
- Prefer named exports for components, default exports for pages
- Colocate tests as `*.test.ts` next to source files
- API calls through `src/lib/api.ts` (apiGet, apiPost, apiPut, apiDelete)
- Shared schemas in `packages/shared/src/schemas/` (Zod)
- Use `formatCurrency()` from `src/lib/formatters.ts` for all price displays

## When Making Changes
1. Check existing design-system components before creating new ones
2. Maintain the warm luxury aesthetic — no cold blues, no harsh shadows
3. Test at 375px (mobile) and 1440px (desktop) minimum
4. Ensure all interactive elements have focus-visible styles
5. Run `npm run typecheck` after changes
6. If adding a new dependency, prefer small, tree-shakeable libraries
