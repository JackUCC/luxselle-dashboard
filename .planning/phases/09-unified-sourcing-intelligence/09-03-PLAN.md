---
phase: 09-unified-sourcing-intelligence
plan: "03"
type: execute
wave: 3
depends_on: ["09-01", "09-02"]
files_modified:
  - src/components/navigation/navGroups.ts
  - src/components/navigation/DockBar.tsx
  - src/components/navigation/MobileNavDrawer.tsx
  - tests/e2e/evaluator.spec.ts
  - tests/e2e/dashboard-shell.spec.ts
  - tests/e2e/sidecar-flow.spec.ts
autonomous: true
requirements:
  - UX-02
must_haves:
  truths:
    - "Sidebar grouping is clearer and visually cleaner after route consolidation."
    - "Dock, mobile drawer, and sidecar nav remain consistent with route metadata."
    - "E2E coverage validates unified route flow, legacy redirects, and sidecar parity."
  artifacts:
    - src/components/navigation/navGroups.ts
    - tests/e2e/evaluator.spec.ts
    - tests/e2e/sidecar-flow.spec.ts
---

<objective>
Complete sidebar cleanup and verify the new unified flow through focused E2E coverage updates.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@src/components/navigation/navGroups.ts
@src/components/navigation/DockBar.tsx
@src/components/navigation/MobileNavDrawer.tsx
@tests/e2e/evaluator.spec.ts
@tests/e2e/dashboard-shell.spec.ts
@tests/e2e/sidecar-flow.spec.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Sidebar visual cleanup</name>
  <files>src/components/navigation/navGroups.ts, src/components/navigation/DockBar.tsx, src/components/navigation/MobileNavDrawer.tsx</files>
  <action>Polish grouping labels, spacing rhythm, and section hierarchy so navigation feels cleaner after unifying evaluator routes. Keep route source-of-truth in routeMeta.</action>
  <verify>npm run typecheck</verify>
  <done>Sidebar navigation is cleaner and consistent across desktop/mobile.</done>
</task>

<task type="auto">
  <name>Task 2: Update evaluator and shell E2E tests for /evaluate</name>
  <files>tests/e2e/evaluator.spec.ts, tests/e2e/dashboard-shell.spec.ts</files>
  <action>Update routes and assertions from `/buy-box` to `/evaluate` where appropriate, add redirect expectations for legacy routes, and keep existing evaluator behavior checks intact.</action>
  <verify>npm run test:e2e -- evaluator.spec.ts dashboard-shell.spec.ts</verify>
  <done>E2E tests validate unified route and legacy compatibility.</done>
</task>

<task type="auto">
  <name>Task 3: Validate sidecar parity on unified route</name>
  <files>tests/e2e/sidecar-flow.spec.ts</files>
  <action>Run sidecar entry flow from `/evaluate?mode=sidecar` and keep assertions for mode persistence and route exit behavior.</action>
  <verify>npm run test:e2e -- sidecar-flow.spec.ts</verify>
  <done>Sidecar mode remains stable through unified route migration.</done>
</task>

</tasks>

<verification>
- [ ] `npm run typecheck`
- [ ] `npm run test:e2e -- evaluator.spec.ts dashboard-shell.spec.ts sidecar-flow.spec.ts`
- [ ] Manual smoke in browser for desktop dock + mobile drawer + sidecar nav
</verification>

<success_criteria>
- Navigation grouping/spacing is cleaner and less cluttered.
- Unified route flows and redirects are E2E-covered.
- Sidecar behavior is unchanged from user perspective.
</success_criteria>

<output>
After completion, create `.planning/phases/09-unified-sourcing-intelligence/09-03-SUMMARY.md`
</output>
